<!DOCTYPE html>
<html lang="id" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <meta name="description" content="Kalkulator UTBK-SNBT yang cara penilaiannya akurat banget, suer, at least menurut gw, wkwkwk">
    <meta name="keywords" content="Kalkulator, UTBK, SNBT, Skor, UTBKalk">
    <meta name="author" content="Humei">
    <meta property="og:title" content="UTBKalk">
    <meta property="og:description" content="Kalkulator Penghitung Mean Nilai UTBK-SNBT">
    <meta property="og:url" content="https://GaluhSaputra-SchoolNWork.github.io">
    <meta property="og:type" content="website">

    <meta name="google-site-verification" content="P8ff-z40FR9rOFZ8I3Osj5aGwrB64F89YnWFofqyEUg" />

    <script type="application/ld+json">
        {
          "@context": "https://schema.org",
          "@type": "Person",
          "name": "Humei",
          "url": "https://GaluhSaputra-SchoolNWork.github.io/UTBKalk",
          "sameAs": [
            "https://github.com/GaluhSaputra-SchoolNWork",
            "https://linkedin.com/in/galuh-saputra"
          ],
          "jobTitle": "Fullstack Developer",
          "worksFor": {
            "@type": "Organization",
            "name": "Independent"
          }
        }
    </script>

    <title>UTBKalk</title>

    <link rel="preload" href="starlightlogo.png?v=1.0.1" as="image">
    <link rel="icon" href="starlightlogo.png?v=1.0.1">

    <link href="output.css?v=1.0.0" rel="stylesheet">

    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"></noscript>

    <style>
        body {
            font-family: 'Inter', sans-serif;
            background: var(--bg-body);
            color: var(--text-primary);
            transition: background 0.3s, color 0.3s;
        }

        .toggle-checkbox:checked {
            right: 0;
            border-color: var(--text-accent);
        }
        .toggle-checkbox:checked + .toggle-label {
            background-color: var(--text-accent);
        }

        .weight-input {
            transition: all 0.5s ease-in-out;
            opacity: 0;
            pointer-events: none;
        }
        .weight-input.hidden {
            display: none;
        }

        .weight-input:not(.hidden) {
            opacity: 1;
            pointer-events: auto;
        }

        .tooltip {
            position: relative;
            display: inline-block;
        }

        .tooltip .tooltiptext {
            visibility: hidden;
            width: 200px;
            background-color: var(--tooltip-bg);
            color: var(--tooltip-text);
            text-align: left;
            border-radius: 6px;
            padding: 8px;
            position: absolute;
            z-index: 10;
            left: 110%;
            top: 50%;
            transform: translateY(-50%);
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 12px;
            white-space: normal;
        }

        .tooltip:hover .tooltiptext {
            visibility: visible;
            opacity: 1;
        }

        .info-icon {
            color: var(--text-secondary);
            margin-left: 0.25rem;
        }

        input[type="text"]::-webkit-inner-spin-button,
        input[type="text"]::-webkit-outer-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }
        input[type="text"] {
            -moz-appearance: textfield;
            background-color: var(--bg-input);
            border-color: var(--border-input);
            color: var(--text-primary);
        }
    </style>

    <link rel="stylesheet" href="styles.css?v=1.0.0" media="print" onload="this.media='all'">
</head>
<body class="min-h-screen flex flex-col items-center justify-center p-4">

    <div class="w-full max-w-3xl mx-auto">

        <div class="flex justify-end mb-4">
            <div class="relative inline-block w-10 mr-2 align-middle select-none transition duration-200 ease-in">
                <input type="checkbox" id="theme-toggle" class="toggle-checkbox absolute block w-6 h-6 rounded-full bg-white border-4 appearance-none cursor-pointer"/>
                <label for="theme-toggle" class="toggle-label block overflow-hidden h-6 rounded-full bg-gray-300 cursor-pointer">
                    <span class="sr-only">Toggle dark mode</span>
                </label>
            </div>
            <label for="theme-toggle" class="text-sm font-medium text-gray-600 dark:text-gray-400 cursor-pointer">Dark Mode</label>
        </div>

        <div class="rounded-2xl shadow-2xl overflow-hidden" style="background-color: var(--bg-card); box-shadow: var(--shadow-card);">
            <div class="p-4 sm:p-6 lg:p-8">
                <div class="text-center mb-6 sm:mb-8">
                    <h1 class="text-2xl sm:text-3xl lg:text-4xl font-bold">UTBKalk</h1>
                </div>

                <form id="utbk-form" class="space-y-6">
                    <div>
                        <h2 class="text-base sm:text-lg font-semibold mb-4 border-b pb-2" style="color: var(--text-primary); border-color: var(--border-input);">Nilai Subtes</h2>
                        <div class="grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-4">
                            
                            <div class="input-group flex flex-row items-end gap-3">
                                <div class="flex-grow">
                                    <label for="PU" class="block text-sm font-medium mb-1" style="color: var(--text-secondary);">
                                        <span>PU</span>
                                        <div class="tooltip">
                                            <svg class="info-icon" width="12" height="12" viewBox="0 0 512 512" fill="currentColor">
                                                <path d="M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"/>
                                            </svg>
                                            <span class="tooltiptext">Kemampuan Penalaran Umum</span>
                                        </div>
                                    </label>
                                    <input type="text" id="PU" placeholder="Skor kamu" class="w-full px-3 sm:px-4 py-2 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition duration-200 border-2" required>
                                </div>
                                <div id="wPU-container" class="weight-input hidden w-1/5 flex-shrink-0">
                                    <label for="wPU" class="block text-sm font-medium mb-1" style="color: var(--text-secondary);">Bobot</label>
                                    <input type="text" id="wPU" placeholder="%" maxlength="2" class="w-full px-3 sm:px-4 py-2 rounded-lg focus:ring-2 focus:ring-indigo-500 border-2">
                                </div>
                            </div>

                            <div class="input-group flex flex-row items-end gap-3">
                                <div class="flex-grow">
                                    <label for="PK" class="block text-sm font-medium mb-1" style="color: var(--text-secondary);">
                                        <span>PK</span>
                                        <div class="tooltip">
                                            <svg class="info-icon" width="12" height="12" viewBox="0 0 512 512" fill="currentColor">
                                                <path d="M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"/>
                                            </svg>
                                            <span class="tooltiptext">Kemampuan Kuantitatif</span>
                                        </div>
                                    </label>
                                    <input type="text" id="PK" placeholder="Skor kamu" class="w-full px-3 sm:px-4 py-2 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition duration-200 border-2" required>
                                </div>
                                <div id="wPK-container" class="weight-input hidden w-1/5 flex-shrink-0">
                                    <label for="wPK" class="block text-sm font-medium mb-1" style="color: var(--text-secondary);">Bobot</label>
                                    <input type="text" id="wPK" placeholder="%" maxlength="2" class="w-full px-3 sm:px-4 py-2 rounded-lg focus:ring-2 focus:ring-indigo-500 border-2">
                                </div>
                            </div>

                            <div class="input-group flex flex-row items-end gap-3">
                                <div class="flex-grow">
                                    <label for="PPU" class="block text-sm font-medium mb-1" style="color: var(--text-secondary);">
                                        <span>PPU</span>
                                        <div class="tooltip">
                                            <svg class="info-icon" width="12" height="12" viewBox="0 0 512 512" fill="currentColor">
                                                <path d="M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"/>
                                            </svg>
                                            <span class="tooltiptext">Pengetahuan dan Pemahaman Umum</span>
                                        </div>
                                    </label>
                                    <input type="text" id="PPU" placeholder="Skor kamu" class="w-full px-3 sm:px-4 py-2 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition duration-200 border-2" required>
                                </div>
                                <div id="wPPU-container" class="weight-input hidden w-1/5 flex-shrink-0">
                                    <label for="wPPU" class="block text-sm font-medium mb-1" style="color: var(--text-secondary);">Bobot</label>
                                    <input type="text" id="wPPU" placeholder="%" maxlength="2" class="w-full px-3 sm:px-4 py-2 rounded-lg focus:ring-2 focus:ring-indigo-500 border-2">
                                </div>
                            </div>

                            <div class="input-group flex flex-row items-end gap-3">
                                <div class="flex-grow">
                                    <label for="PBM" class="block text-sm font-medium mb-1" style="color: var(--text-secondary);">
                                        <span>PBM</span>
                                        <div class="tooltip">
                                            <svg class="info-icon" width="12" height="12" viewBox="0 0 512 512" fill="currentColor">
                                                <path d="M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"/>
                                            </svg>
                                            <span class="tooltiptext">Kemampuan Memahami Bacaan dan Menulis</span>
                                        </div>
                                    </label>
                                    <input type="text" id="PBM" placeholder="Skor kamu" class="w-full px-3 sm:px-4 py-2 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition duration-200 border-2" required>
                                </div>
                                <div id="wPBM-container" class="weight-input hidden w-1/5 flex-shrink-0">
                                    <label for="wPBM" class="block text-sm font-medium mb-1" style="color: var(--text-secondary);">Bobot</label>
                                    <input type="text" id="wPBM" placeholder="%" maxlength="2" class="w-full px-3 sm:px-4 py-2 rounded-lg focus:ring-2 focus:ring-indigo-500 border-2">
                                </div>
                            </div>

                            <div class="input-group flex flex-row items-end gap-3">
                                <div class="flex-grow">
                                    <label for="LBI" class="block text-sm font-medium mb-1" style="color: var(--text-secondary);">
                                        <span>LBI</span>
                                        <div class="tooltip">
                                            <svg class="info-icon" width="12" height="12" viewBox="0 0 512 512" fill="currentColor">
                                                <path d="M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"/>
                                            </svg>
                                            <span class="tooltiptext">Literasi Bahasa Indonesia</span>
                                        </div>
                                    </label>
                                    <input type="text" id="LBI" placeholder="Skor kamu" class="w-full px-3 sm:px-4 py-2 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition duration-200 border-2" required>
                                </div>
                                <div id="wLBI-container" class="weight-input hidden w-1/5 flex-shrink-0">
                                    <label for="wLBI" class="block text-sm font-medium mb-1" style="color: var(--text-secondary);">Bobot</label>
                                    <input type="text" id="wLBI" placeholder="%" maxlength="2" class="w-full px-3 sm:px-4 py-2 rounded-lg focus:ring-2 focus:ring-indigo-500 border-2">
                                </div>
                            </div>

                            <div class="input-group flex flex-row items-end gap-3">
                                <div class="flex-grow">
                                    <label for="LBE" class="block text-sm font-medium mb-1" style="color: var(--text-secondary);">
                                        <span>LBE</span>
                                        <div class="tooltip">
                                            <svg class="info-icon" width="12" height="12" viewBox="0 0 512 512" fill="currentColor">
                                                <path d="M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"/>
                                            </svg>
                                            <span class="tooltiptext">Literasi Bahasa Inggris</span>
                                        </div>
                                    </label>
                                    <input type="text" id="LBE" placeholder="Skor kamu" class="w-full px-3 sm:px-4 py-2 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition duration-200 border-2" required>
                                </div>
                                <div id="wLBE-container" class="weight-input hidden w-1/5 flex-shrink-0">
                                    <label for="wLBE" class="block text-sm font-medium mb-1" style="color: var(--text-secondary);">Bobot</label>
                                    <input type="text" id="wLBE" placeholder="%" maxlength="2" class="w-full px-3 sm:px-4 py-2 rounded-lg focus:ring-2 focus:ring-indigo-500 border-2">
                                </div>
                            </div>

                            <div class="input-group flex flex-row items-end gap-3">
                                <div class="flex-grow">
                                    <label for="PM" class="block text-sm font-medium mb-1" style="color: var(--text-secondary);">
                                        <span>PM</span>
                                        <div class="tooltip">
                                            <svg class="info-icon" width="12" height="12" viewBox="0 0 512 512" fill="currentColor">
                                                <path d="M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"/>
                                            </svg>
                                            <span class="tooltiptext">Penalaran Matematika</span>
                                        </div>
                                    </label>
                                    <input type="text" id="PM" placeholder="Skor kamu" class="w-full px-3 sm:px-4 py-2 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition duration-200 border-2" required>
                                </div>
                                <div id="wPM-container" class="weight-input hidden w-1/5 flex-shrink-0">
                                    <label for="wPM" class="block text-sm font-medium mb-1" style="color: var(--text-secondary);">Bobot</label>
                                    <input type="text" id="wPM" placeholder="%" maxlength="2" class="w-full px-3 sm:px-4 py-2 rounded-lg focus:ring-2 focus:ring-indigo-500 border-2">
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="flex items-center justify-between p-4 rounded-lg" style="background-color: var(--bg-weight-toggle);">
                        <label for="useWeights" class="flex items-center gap-2 cursor-pointer">
                            <span class="text-sm font-semibold" style="color: var(--text-primary);">Gunakan Bobot Kustom?</span>
                            <div class="tooltip">
                                <svg class="info-icon" width="12" height="12" viewBox="0 0 512 512" fill="currentColor">
                                    <path d="M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"/>
                                </svg>
                                <span class="tooltiptext">
                                    Pembobotan cek di
                                    <a href="https://zebracross.id/" target="_blank" class="hover:text-gray-700 dark:hover:text-gray-300 transition">zebracross.id</a>
                                    aja yaa.
                                </span>
                            </div>
                        </label>
                        <div class="relative inline-block w-10 mr-2 align-middle select-none transition duration-200 ease-in">
                            <input type="checkbox" name="toggle" id="useWeights" class="toggle-checkbox absolute block w-6 h-6 rounded-full bg-white border-4 appearance-none cursor-pointer"/>
                            <label for="useWeights" class="toggle-label block overflow-hidden h-6 rounded-full cursor-pointer" style="background-color: var(--bg-toggle);">
                                <span class="sr-only">Toggle bobot kustom</span>
                            </label>
                        </div>
                    </div>

                    <div>
                        <button type="submit" class="w-full flex items-center justify-center gap-2 text-white bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 focus:ring-4 focus:outline-none focus:ring-purple-300 font-semibold rounded-lg text-sm sm:text-md px-5 py-3 text-center transition-all duration-300 transform hover:scale-105 shadow-lg">
                            <i class="fas fa-calculator"></i>
                            Hitung Skorku
                        </button>
                    </div>
                </form>
            </div>
            
            <div id="result-container" class="p-4 sm:p-6 border-t text-center" style="display: none; background-color: var(--bg-result); border-color: var(--border-input);">
                <h3 class="font-bold text-base sm:text-lg mb-2" style="color: var(--text-primary);">Skor Rata-Rata Kamu</h3>
                <p id="result" class="text-3xl sm:text-4xl font-bold"></p>
                <p id="exact-result" class="text-xs sm:text-sm mt-2" style="color: var(--text-secondary);"></p>
            </div>
        </div>

        <footer class="text-center mt-8">
            <p class="text-sm" style="color: var(--text-secondary);">© 2025 
                <a href="https://github.com/GaluhSaputra-SchoolNWork" target="_blank" class="hover:text-gray-700 dark:hover:text-gray-300 transition">Humei.</a>
                Projek iseng. Pake aja.
            </p>
        </footer>          
    </div>

    <script defer>
        const form = document.getElementById('utbk-form');
        const useWeights = document.getElementById('useWeights');
        const resultContainer = document.getElementById('result-container');
        const resultDiv = document.getElementById('result');
        const themeToggle = document.getElementById('theme-toggle');
        const subtests = ['PU', 'PK', 'PPU', 'PBM', 'LBI', 'LBE', 'PM'];

        themeToggle.addEventListener('change', () => {
            document.documentElement.setAttribute('data-theme', themeToggle.checked ? 'dark' : 'light');
            localStorage.setItem('theme', themeToggle.checked ? 'dark' : 'light');
        });

        const savedTheme = localStorage.getItem('theme') || 'light';
        document.documentElement.setAttribute('data-theme', savedTheme);
        themeToggle.checked = savedTheme === 'dark';

        useWeights.addEventListener('change', () => {
            const showWeights = useWeights.checked;
            subtests.forEach(st => {
                const weightContainer = document.getElementById(`w${st}-container`);
                weightContainer.classList.toggle('hidden', !showWeights);
            });
        });

        subtests.forEach(st => {
            const scoreInput = document.getElementById(st);
            scoreInput.addEventListener('input', () => {
                const value = parseFloat(scoreInput.value) || 0;
                if (value < 200 || value > 1000) {
                    scoreInput.classList.add('border-red-500');
                    let errorMsg = scoreInput.nextElementSibling;
                    if (!errorMsg || !errorMsg.classList.contains('error-msg')) {
                        errorMsg = document.createElement('p');
                        errorMsg.classList.add('error-msg', 'text-red-500', 'text-xs', 'mt-1');
                        scoreInput.parentNode.appendChild(errorMsg);
                    }
                    errorMsg.textContent = 'Nilai harus antara 200.00 dan 1000.00';
                } else {
                    scoreInput.classList.remove('border-red-500');
                    const errorMsg = scoreInput.nextElementSibling;
                    if (errorMsg && errorMsg.classList.contains('error-msg')) {
                        errorMsg.remove();
                    }
                }
            });

            const weightInput = document.getElementById(`w${st}`);
            if (weightInput) {
                weightInput.addEventListener('input', () => {
                    weightInput.value = weightInput.value.replace(/[^0-9]/g, '');
                });
            }
        });

        form.addEventListener('submit', function(e) {
            e.preventDefault();

            let total = 0;
            let calculationError = false;

            resultDiv.className = 'text-3xl sm:text-4xl font-bold'; 

            const normalizeDecimal = (value) => {
                return value.replace(',', '.');
            };

            if (useWeights.checked) {
                let weightSum = 0;
                for (let st of subtests) {
                    const scoreInput = normalizeDecimal(document.getElementById(st).value);
                    const weightInput = normalizeDecimal(document.getElementById(`w${st}`).value);
                    const score = parseFloat(scoreInput) || 0;
                    const weight = parseFloat(weightInput) || 0;
                    
                    if (isNaN(score) || score < 200 || score > 1000 || isNaN(weight) || weight < 0 || weight > 100) {
                        displayResult('Nilai atau bobot tidak valid.', true);
                        return;
                    }

                    weightSum += weight;
                    total += (score * (weight / 100));
                }

                if (Math.abs(weightSum - 100) > 0.01) {
                    displayResult(`Total bobot harus 100%, sekarang ${weightSum.toFixed(2)}%`, true);
                    return;
                }
            } else {
                let scoreCount = 0;
                for (let st of subtests) {
                    const scoreInput = normalizeDecimal(document.getElementById(st).value);
                    const score = parseFloat(scoreInput) || 0;
                    if (isNaN(score) || score < 200 || score > 1000) {
                        displayResult('Nilai subtes harus antara 200 dan 1000.', true);
                        return;
                    }
                    total += score;
                    scoreCount++;
                }
                total /= scoreCount;
            }

            displayResult(total, false);
        });

        /** @param {number|string} message @param {boolean} isError */
        function displayResult(message, isError) {
            resultContainer.style.display = 'block';
            if (isError) {
                resultDiv.textContent = message;
                resultDiv.classList.add('text-red-600', 'text-base', 'sm:text-lg');
                resultDiv.classList.remove('text-3xl', 'sm:text-4xl', 'text-indigo-600');
                resultDiv.style.color = 'var(--text-error)';
            } else {
                resultDiv.textContent = `≈ ${parseFloat(message).toFixed(2)}`;
                resultDiv.classList.add('text-indigo-600');
                resultDiv.classList.remove('text-red-600', 'text-base', 'sm:text-lg');
                resultDiv.style.color = 'var(--text-accent)';
            }
            
            const exactResult = document.getElementById('exact-result');
            if (!isError) {
                let exactStr = message.toString();
                if (!exactStr.includes('.')) {
                    exactStr += '.0';
                }
                exactResult.textContent = `Tepatnya: ${exactStr}`;
                exactResult.style.display = 'block';
            } else {
                exactResult.textContent = '';
                exactResult.style.display = 'none';
            }

            resultContainer.scrollIntoView({ behavior: 'smooth' });
        }
    </script>
</body>
</html>